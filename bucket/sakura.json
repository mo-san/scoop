{
    "version": "2.4.1",
    "description": "Sakura Editor: a text editor (original name is 'サクラエディタ')",
    "homepage": "https://sakura-editor.github.io/",
    "license": {
        "identifier": "Zlib",
        "url": "https://github.com/sakura-editor/sakura/blob/master/LICENSE"
    },
    "url": "https://github.com/sakura-editor/sakura/releases/download/v2.4.1/sakura-tag-v2.4.1-build2849-ee8234f-Win32-Release-Exe.zip",
    "hash": "md5:dcef1d95bd7aaeeb39c7fbba57d650b7",
    "bin": "sakura.exe",
    "shortcuts": [
        [
            "sakura.exe",
            "サクラエディタ"
        ]
    ],
    "pre_install": [
        "ensure \"$persist_dir\" | Out-Null",
        "$file = 'sakura.exe.ini'",
        "if (-not (Test-Path \"$persist_dir\\$file\")) {",
        "    Set-Content \"$persist_dir\\$file\" -Value @\"",
        "[Settings]",
        "MultiUser=1",
        "UserRootFolder=0",
        "UserSubFolder=sakura",
        "\"@",
        "}",
        "@(",
        "    'my_appicon.ico',",
        "    'my_icons.bmp',",
        "    'my_grepicon.ico'",
        ") | ForEach-Object {",
        "    if (Test-Path \"$persist_dir\\$_\") {",
        "        $current = versiondir 'sakura' $version",
        "        New-Item -ItemType HardLink -Path \"$current\\$_\" -Target \"$persist_dir\\$_\" | Out-Null",
        "    }",
        "}"
    ],
    "persist": [
        "sakura.exe.ini",
        "Keywords",
        "Macros",
        "Migemo",
        "Plugins"
    ],
    "checkver": {
        "url": "https://api.github.com/repos/sakura-editor/sakura/releases/latest",
        "regex": "\"browser_download_url\": *\"(?<filename>https://github.com/sakura-editor/sakura/releases/download/v([0-9.]+)/.+-Release-Exe.zip)\""
    },
    "autoupdate": {
        "url": "$matchFilename",
        "hash": {
            "url": "$url.md5",
            "regex": "$md5"
        }
    },
    "notes": [
        "1. The configuration file (sakura.ini) will be installed in user specific application data folder (i.e. %APPDATA%\\sakura) instead of 'persist' folder.",
        "2. Tips: If you have 'my_appicon.ico', 'my_icons.bmp' or 'my_grepicon.ico' in 'persist' folder, they will be used as icon images in the app.",
        "1. 設定ファイル (sakura.ini) は 'persist' ではなく ユーザーのアプリケーションデータフォルダー(%APPDATA%\\sakura)に保存されます。",
        "2. ちなみに: 'persist' フォルダーに 'my_appicon.ico' や 'my_icons.bmp' や 'my_grepicon.ico' を置いておくと、アプリケーション内のアイコン画像として使えます。"
    ]
}
